<!-- diveceディフォルト  noticeの表示が2重に表示になるため-->
<!-- <p id="notice"><%#= notice %></p> -->

<h2>< 日用品一覧 ></h2>

  <%= search_form_for @q do |f| %>
    <%#= f.label :item_genre_or_item_name, "Keyword" %>
    <%= f.search_field :item_name_cont , placeholder: '商品名 検索' %>
    <%= f.submit "検索" %>
  <% end %>
  <br>
<%= link_to "一覧に戻る", stocks_path, class:"btn btn-secondary" %>
  <br>

  <div class:"table_stock" style="width:100%; height:1800px; overflow:auto;">
  <table>
    <thead align="center">
      <tr>
        <th><%= sort_link(@q, :item_genre, "ジャンル名") %></th>
        <th><%= sort_link(@q, :item_name, "商品名") %></th>
        <!-- <th>商品詳細</th> -->
        <th><%= sort_link(@q, :price, "価格") %>円</th>
        <th>画像</th>
        <th><%= sort_link(@q, :number_of_stock, "残") %></th>
        <th colspan="3"></th>
      </tr>
    </thead>

  <tbody align="center">
    <% @stocks.each do |stock| %>
    <!--自分が作成したタスクだけを表示させる -->
      <% if current_user.id == stock.user.id %>
        <tr>
          <td><%= stock.item_genre %></td>
          <td><%= stock.item_name %></td>
          <!-- <td><%#= stock.content %></td> -->
          <td><%= stock.price %>円</td>
          <td><%= image_tag stock.image.url %></td>
          <td><%= stock.number_of_stock %></td>
          <td><%= link_to '詳細', stock, class:"btn btn-info" %></td>
          <td><%= link_to '編集', edit_stock_path(stock),
          data: { confirm: '本当に編集していいですか？' }, class:"btn btn-secondary" %></td>
          <td><%= link_to '削除', stock,
          method: :delete,data: { confirm: '本当に削除していいですか？' }, class:"btn btn-danger" %></td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to '新しく日用品を追加する', new_stock_path, class:"btn btn-success" %><br>

<%= paginate @stocks  %>
</div>
